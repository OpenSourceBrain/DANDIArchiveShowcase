**************************************************
NWBInspector Report Summary

Timestamp: 2024-01-04 14:12:55.144745+00:00
Platform: Linux-5.15.0-91-generic-x86_64-with
NWBInspector version: 0.4.31

Found 1 issues over 1 files:
       1 - ERROR
**************************************************


0  ERROR
========

0.0  /tmp/nwb_versions/sub-5891_ses-velocity-modulation-1a2ef19c-1bc8-4740-90a1-0f9400499861_behavior+image+ogen.nwb: During io.read() - <class 'hdmf.build.errors.ConstructError'>: (root/processing/behavior/moseq_extract_group GroupBuilder {'attributes': {'namespace': 'ndx-depth-moseq', 'neurodata_type': 'MoSeqExtractGroup', 'object_id': 'ae683ddc-0266-41fc-bc9a-fe64b550023b', 'version': '0.1.3'}, 'groups': {'angular_velocity_2d': root/processing/behavior/moseq_extract_group/angular_velocity_2d GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'Angular component of velocity (arctan(vel_x, vel_y))', 'namespace': 'core', 'neurodata_type': 'TimeSeries', 'object_id': '7943f8c3-256b-4468-8477-5b3452aff9e5'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/angular_velocity_2d/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'radians/frame'}, 'data': <HDF5 dataset "data": shape (53822,), type "<f4">}, 'timestamps': root/processing/behavior/moseq_extract_group/angular_velocity_2d/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}, 'area': root/processing/behavior/moseq_extract_group/area GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'Pixel-wise area of mouse (mm^2)', 'namespace': 'core', 'neurodata_type': 'TimeSeries', 'object_id': '4628c79c-7a77-44aa-8d34-80f1117ead2a'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/area/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'mm^2'}, 'data': <HDF5 dataset "data": shape (53822,), type "<f4">}, 'timestamps': root/processing/behavior/moseq_extract_group/area/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}, 'flipped_series': root/processing/behavior/moseq_extract_group/flipped_series GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'Boolean array indicating whether the image was flipped left/right', 'namespace': 'core', 'neurodata_type': 'TimeSeries', 'object_id': '474f3b9c-c25a-454a-b177-7f0a2015586a'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/flipped_series/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'a.u.'}, 'data': <HDF5 dataset "data": shape (53822,), type "|b1">}, 'timestamps': root/processing/behavior/moseq_extract_group/flipped_series/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}, 'heading_2d': root/processing/behavior/moseq_extract_group/heading_2d GroupBuilder {'attributes': {'namespace': 'core', 'neurodata_type': 'CompassDirection', 'object_id': '62d1eeea-10b1-4fbf-aebe-bfbc2d13099c'}, 'groups': {'heading_2d': root/processing/behavior/moseq_extract_group/heading_2d/heading_2d GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'The location of the mouse was identified by finding the centroid of the contour with the largest area using the OpenCV findcontours function. An 80×80 pixel bounding box was drawn around the identified centroid, and the orientation was estimated using an ellipse fit.', 'namespace': 'core', 'neurodata_type': 'SpatialSeries', 'object_id': '61b84097-57ac-4dfc-8eeb-fbe0bb770b4d'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/heading_2d/heading_2d/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'radians'}, 'data': <HDF5 dataset "data": shape (53822,), type "<f4">}, 'reference_frame': root/processing/behavior/moseq_extract_group/heading_2d/heading_2d/reference_frame DatasetBuilder {'attributes': {}, 'data': 'TBD'}, 'timestamps': root/processing/behavior/moseq_extract_group/heading_2d/heading_2d/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}}, 'datasets': {}, 'links': {}}, 'length': root/processing/behavior/moseq_extract_group/length GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'Length of mouse (mm)', 'namespace': 'core', 'neurodata_type': 'TimeSeries', 'object_id': '5805afbe-a54e-43d3-8323-23a948ff3e6c'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/length/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'mm'}, 'data': <HDF5 dataset "data": shape (53822,), type "<f4">}, 'timestamps': root/processing/behavior/moseq_extract_group/length/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}, 'loglikelihood_video': root/processing/behavior/moseq_extract_group/loglikelihood_video GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'Log-likelihood values from the tracking model (nframes x w x h)', 'namespace': 'core', 'neurodata_type': 'ImageMaskSeries', 'object_id': 'dcfdb691-369f-418a-9b6b-b365c548e296'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/loglikelihood_video/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'a.u.'}, 'data': <HDF5 dataset "data": shape (53822, 80, 80), type "<f4">}, 'format': root/processing/behavior/moseq_extract_group/loglikelihood_video/format DatasetBuilder {'attributes': {}, 'data': 'raw'}, 'timestamps': root/processing/behavior/moseq_extract_group/loglikelihood_video/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {'device': root/processing/behavior/moseq_extract_group/loglikelihood_video/device LinkBuilder {'builder': root/general/devices/kinect GroupBuilder {'attributes': {'description': 'Microsoft Kinect 2', 'manufacturer': 'Microsoft', 'namespace': 'core', 'neurodata_type': 'Device', 'object_id': '82e8e8e7-f26b-48c5-ba1a-8ba04826aee8'}, 'groups': {}, 'datasets': {}, 'links': {}}}, 'masked_imageseries': root/processing/behavior/moseq_extract_group/loglikelihood_video/masked_imageseries LinkBuilder {'builder': root/processing/behavior/moseq_extract_group/processed_depth_video GroupBuilder {'attributes': {'comments': 'no comments', 'description': '3D array of depth frames (nframes x w x h, in mm)', 'distant_depth': 693.0, 'namespace': 'ndx-depth-moseq', 'neurodata_type': 'DepthImageSeries', 'object_id': '767a2342-17ea-43d4-919b-b97713f83741'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/processed_depth_video/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'millimeters'}, 'data': <HDF5 dataset "data": shape (53822, 80, 80), type "|u1">}, 'format': root/processing/behavior/moseq_extract_group/processed_depth_video/format DatasetBuilder {'attributes': {}, 'data': 'raw'}, 'timestamps': root/processing/behavior/moseq_extract_group/processed_depth_video/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {'device': root/processing/behavior/moseq_extract_group/processed_depth_video/device LinkBuilder {'builder': root/general/devices/kinect GroupBuilder {'attributes': {'description': 'Microsoft Kinect 2', 'manufacturer': 'Microsoft', 'namespace': 'core', 'neurodata_type': 'Device', 'object_id': '82e8e8e7-f26b-48c5-ba1a-8ba04826aee8'}, 'groups': {}, 'datasets': {}, 'links': {}}}}}}}}, 'parameters': root/processing/behavior/moseq_extract_group/parameters GroupBuilder {'attributes': {'angle_hampel_sig': 1, 'angle_hampel_span': 7, 'bg_roi_depth_range_max': 750, 'bg_roi_depth_range_min': 650, 'bg_roi_dilate_x': 30, 'bg_roi_dilate_y': 30, 'bg_roi_fill_holes': True, 'bg_roi_gradient_filter': False, 'bg_roi_gradient_kernel': 7, 'bg_roi_gradient_threshold': 3000, 'bg_roi_index': 0, 'bg_roi_shape': 'ellipse', 'bg_roi_weight_area': 1.0, 'bg_roi_weight_dist': 1.0, 'bg_roi_weight_extent': 0.1, 'cable_filter_iters': 1, 'cable_filter_shape': 'rectangle', 'cable_filter_size_x': 3, 'cable_filter_size_y': 3, 'centroid_hampel_sig': 3, 'centroid_hampel_span': 5, 'chunk_overlap': 200, 'chunk_size': 2000, 'compress': False, 'compress_chunk_size': 3000, 'compress_threads': 3, 'config_file': '/n/groups/datta/Jeff/workspace/_extract_config/extract_smallcable.yaml', 'crop_size_height': 80, 'crop_size_width': 80, 'flip_classifier': '/home/jm447/moseq2/flip_classifier_k2_largemicewithfiber.pkl', 'flip_classifier_smoothing': 151, 'fps': 30, 'frame_dtype': 'uint8', 'frame_trim_beginning': 0, 'frame_trim_end': 0, 'max_height': 100, 'min_height': 10, 'model_smoothing_clips_x': -500, 'model_smoothing_clips_y': -100, 'namespace': 'ndx-depth-moseq', 'neurodata_type': 'MoSeqExtractParameterGroup', 'object_id': '816a0d78-a302-484f-83ef-db1a4fec8417', 'spatial_filter_size': 3, 'tail_filter_iters': 1, 'tail_filter_shape': 'ellipse', 'tail_filter_size_x': 9, 'tail_filter_size_y': 9, 'temporal_filter_size': 0, 'tracking_model_init': 'raw', 'tracking_model_ll_clip': -100, 'tracking_model_ll_threshold': -60, 'tracking_model_mask_threshold': -18, 'tracking_model_segment': True, 'use_plane_bground': False, 'use_tracking_model': True, 'write_movie': True}, 'groups': {}, 'datasets': {}, 'links': {}}, 'position': root/processing/behavior/moseq_extract_group/position GroupBuilder {'attributes': {'namespace': 'core', 'neurodata_type': 'Position', 'object_id': '11540e02-ec82-4553-9a6d-8306a33bfdbc'}, 'groups': {'position': root/processing/behavior/moseq_extract_group/position/position GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'Position (x, y, height) in an open field.', 'namespace': 'core', 'neurodata_type': 'SpatialSeries', 'object_id': 'd99b89e9-c699-4719-ae12-ac9891d30c5b'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/position/position/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'mm'}, 'data': <HDF5 dataset "data": shape (53822, 3), type "<f4">}, 'reference_frame': root/processing/behavior/moseq_extract_group/position/position/reference_frame DatasetBuilder {'attributes': {}, 'data': 'TBD'}, 'timestamps': root/processing/behavior/moseq_extract_group/position/position/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}}, 'datasets': {}, 'links': {}}, 'processed_depth_video': root/processing/behavior/moseq_extract_group/processed_depth_video GroupBuilder {'attributes': {'comments': 'no comments', 'description': '3D array of depth frames (nframes x w x h, in mm)', 'distant_depth': 693.0, 'namespace': 'ndx-depth-moseq', 'neurodata_type': 'DepthImageSeries', 'object_id': '767a2342-17ea-43d4-919b-b97713f83741'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/processed_depth_video/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'millimeters'}, 'data': <HDF5 dataset "data": shape (53822, 80, 80), type "|u1">}, 'format': root/processing/behavior/moseq_extract_group/processed_depth_video/format DatasetBuilder {'attributes': {}, 'data': 'raw'}, 'timestamps': root/processing/behavior/moseq_extract_group/processed_depth_video/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {'device': root/processing/behavior/moseq_extract_group/processed_depth_video/device LinkBuilder {'builder': root/general/devices/kinect GroupBuilder {'attributes': {'description': 'Microsoft Kinect 2', 'manufacturer': 'Microsoft', 'namespace': 'core', 'neurodata_type': 'Device', 'object_id': '82e8e8e7-f26b-48c5-ba1a-8ba04826aee8'}, 'groups': {}, 'datasets': {}, 'links': {}}}}}, 'speed_2d': root/processing/behavior/moseq_extract_group/speed_2d GroupBuilder {'attributes': {'comments': 'no comments', 'description': '2D speed (mm / frame), note that missing frames are not accounted for', 'namespace': 'core', 'neurodata_type': 'TimeSeries', 'object_id': 'e9ce8d73-70bb-490c-9c0d-cdaf14559fb4'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/speed_2d/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'mm/frame'}, 'data': <HDF5 dataset "data": shape (53822,), type "<f4">}, 'timestamps': root/processing/behavior/moseq_extract_group/speed_2d/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}, 'speed_3d': root/processing/behavior/moseq_extract_group/speed_3d GroupBuilder {'attributes': {'comments': 'no comments', 'description': '3D speed (mm / frame), note that missing frames are not accounted for', 'namespace': 'core', 'neurodata_type': 'TimeSeries', 'object_id': '50581913-662c-4b2f-bcf0-266debb71f84'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/speed_3d/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'mm/frame'}, 'data': <HDF5 dataset "data": shape (53822,), type "<f4">}, 'timestamps': root/processing/behavior/moseq_extract_group/speed_3d/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}, 'width': root/processing/behavior/moseq_extract_group/width GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'Width of mouse (mm)', 'namespace': 'core', 'neurodata_type': 'TimeSeries', 'object_id': '5d0b6ef6-6966-485a-b39c-c11432519820'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/width/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'mm'}, 'data': <HDF5 dataset "data": shape (53822,), type "<f4">}, 'timestamps': root/processing/behavior/moseq_extract_group/width/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}}, 'datasets': {'background': root/processing/behavior/moseq_extract_group/background DatasetBuilder {'attributes': {'description': 'Computed background image.', 'namespace': 'core', 'neurodata_type': 'GrayscaleImage', 'object_id': 'b207e00f-927b-4fbe-81fa-1173e603a6f8'}, 'data': <HDF5 dataset "background": shape (424, 512), type "<f8">}, 'roi': root/processing/behavior/moseq_extract_group/roi DatasetBuilder {'attributes': {'description': 'Computed region of interest.', 'namespace': 'core', 'neurodata_type': 'GrayscaleImage', 'object_id': '717287ef-4b53-4c59-ac2d-18c692ba4041'}, 'data': <HDF5 dataset "roi": shape (424, 512), type "<f8">}}, 'links': {'depth_camera': root/processing/behavior/moseq_extract_group/depth_camera LinkBuilder {'builder': root/general/devices/kinect GroupBuilder {'attributes': {'description': 'Microsoft Kinect 2', 'manufacturer': 'Microsoft', 'namespace': 'core', 'neurodata_type': 'Device', 'object_id': '82e8e8e7-f26b-48c5-ba1a-8ba04826aee8'}, 'groups': {}, 'datasets': {}, 'links': {}}}}}, "Could not construct MoSeqExtractGroup object due to: Field 'depth_camera' on MoSeqExtractGroup must be named 'depth_camera'.") - 'None' object with name 'None'
       Message: Traceback (most recent call last):
  File "/usr/lib/python3.11/site-packages/hdmf/build/objectmapper.py", line 1258, in construct
    obj = self.__new_container__(cls, builder.source, parent, builder.attributes.get(self.__spec.id_key()),
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/objectmapper.py", line 1271, in __new_container__
    obj.__init__(**kwargs)
  File "/usr/lib/python3.11/site-packages/hdmf/utils.py", line 664, in func_call
    return func(args[0], **pargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/classgenerator.py", line 339, in __init__
    setattr(self, f, arg_val)
  File "/usr/lib/python3.11/site-packages/hdmf/container.py", line 518, in container_setter
    raise ValueError(msg)
ValueError: Field 'depth_camera' on MoSeqExtractGroup must be named 'depth_camera'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.11/site-packages/nwbinspector/nwbinspector.py", line 566, in inspect_nwbfile
    nwbfile_object = robust_s3_read(command=io.read, max_retries=max_retries)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/nwbinspector/utils.py", line 173, in robust_s3_read
    raise exc
  File "/usr/lib/python3.11/site-packages/nwbinspector/utils.py", line 168, in robust_s3_read
    return command(*command_args, **command_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/backends/hdf5/h5tools.py", line 479, in read
    return super().read(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/utils.py", line 664, in func_call
    return func(args[0], **pargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/backends/io.py", line 60, in read
    container = self.__manager.construct(f_builder)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/utils.py", line 664, in func_call
    return func(args[0], **pargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/manager.py", line 284, in construct
    result = self.__type_map.construct(builder, self, None)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/utils.py", line 664, in func_call
    return func(args[0], **pargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/manager.py", line 795, in construct
    return obj_mapper.construct(builder, build_manager, parent)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/utils.py", line 664, in func_call
    return func(args[0], **pargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/objectmapper.py", line 1228, in construct
    subspecs = self.__get_subspec_values(builder, self.spec, manager)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/objectmapper.py", line 1157, in __get_subspec_values
    self.__get_sub_builders(groups, spec.groups, manager, ret)
  File "/usr/lib/python3.11/site-packages/hdmf/build/objectmapper.py", line 1208, in __get_sub_builders
    ret.update(self.__get_subspec_values(sub_builder, subspec, manager))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/objectmapper.py", line 1157, in __get_subspec_values
    self.__get_sub_builders(groups, spec.groups, manager, ret)
  File "/usr/lib/python3.11/site-packages/hdmf/build/objectmapper.py", line 1200, in __get_sub_builders
    sub_builder = self.__flatten(sub_builder, subspec, manager)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/objectmapper.py", line 1213, in __flatten
    tmp = [manager.construct(b) for b in sub_builder]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/objectmapper.py", line 1213, in <listcomp>
    tmp = [manager.construct(b) for b in sub_builder]
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/utils.py", line 664, in func_call
    return func(args[0], **pargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/manager.py", line 280, in construct
    result = self.__type_map.construct(builder, self, parent)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/utils.py", line 664, in func_call
    return func(args[0], **pargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/manager.py", line 795, in construct
    return obj_mapper.construct(builder, build_manager, parent)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/utils.py", line 664, in func_call
    return func(args[0], **pargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/objectmapper.py", line 1228, in construct
    subspecs = self.__get_subspec_values(builder, self.spec, manager)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/objectmapper.py", line 1157, in __get_subspec_values
    self.__get_sub_builders(groups, spec.groups, manager, ret)
  File "/usr/lib/python3.11/site-packages/hdmf/build/objectmapper.py", line 1200, in __get_sub_builders
    sub_builder = self.__flatten(sub_builder, subspec, manager)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/objectmapper.py", line 1213, in __flatten
    tmp = [manager.construct(b) for b in sub_builder]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/objectmapper.py", line 1213, in <listcomp>
    tmp = [manager.construct(b) for b in sub_builder]
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/utils.py", line 664, in func_call
    return func(args[0], **pargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/manager.py", line 280, in construct
    result = self.__type_map.construct(builder, self, parent)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/utils.py", line 664, in func_call
    return func(args[0], **pargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/manager.py", line 795, in construct
    return obj_mapper.construct(builder, build_manager, parent)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/utils.py", line 664, in func_call
    return func(args[0], **pargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/site-packages/hdmf/build/objectmapper.py", line 1262, in construct
    raise ConstructError(builder, msg) from ex
hdmf.build.errors.ConstructError: (root/processing/behavior/moseq_extract_group GroupBuilder {'attributes': {'namespace': 'ndx-depth-moseq', 'neurodata_type': 'MoSeqExtractGroup', 'object_id': 'ae683ddc-0266-41fc-bc9a-fe64b550023b', 'version': '0.1.3'}, 'groups': {'angular_velocity_2d': root/processing/behavior/moseq_extract_group/angular_velocity_2d GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'Angular component of velocity (arctan(vel_x, vel_y))', 'namespace': 'core', 'neurodata_type': 'TimeSeries', 'object_id': '7943f8c3-256b-4468-8477-5b3452aff9e5'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/angular_velocity_2d/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'radians/frame'}, 'data': <HDF5 dataset "data": shape (53822,), type "<f4">}, 'timestamps': root/processing/behavior/moseq_extract_group/angular_velocity_2d/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}, 'area': root/processing/behavior/moseq_extract_group/area GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'Pixel-wise area of mouse (mm^2)', 'namespace': 'core', 'neurodata_type': 'TimeSeries', 'object_id': '4628c79c-7a77-44aa-8d34-80f1117ead2a'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/area/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'mm^2'}, 'data': <HDF5 dataset "data": shape (53822,), type "<f4">}, 'timestamps': root/processing/behavior/moseq_extract_group/area/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}, 'flipped_series': root/processing/behavior/moseq_extract_group/flipped_series GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'Boolean array indicating whether the image was flipped left/right', 'namespace': 'core', 'neurodata_type': 'TimeSeries', 'object_id': '474f3b9c-c25a-454a-b177-7f0a2015586a'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/flipped_series/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'a.u.'}, 'data': <HDF5 dataset "data": shape (53822,), type "|b1">}, 'timestamps': root/processing/behavior/moseq_extract_group/flipped_series/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}, 'heading_2d': root/processing/behavior/moseq_extract_group/heading_2d GroupBuilder {'attributes': {'namespace': 'core', 'neurodata_type': 'CompassDirection', 'object_id': '62d1eeea-10b1-4fbf-aebe-bfbc2d13099c'}, 'groups': {'heading_2d': root/processing/behavior/moseq_extract_group/heading_2d/heading_2d GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'The location of the mouse was identified by finding the centroid of the contour with the largest area using the OpenCV findcontours function. An 80×80 pixel bounding box was drawn around the identified centroid, and the orientation was estimated using an ellipse fit.', 'namespace': 'core', 'neurodata_type': 'SpatialSeries', 'object_id': '61b84097-57ac-4dfc-8eeb-fbe0bb770b4d'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/heading_2d/heading_2d/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'radians'}, 'data': <HDF5 dataset "data": shape (53822,), type "<f4">}, 'reference_frame': root/processing/behavior/moseq_extract_group/heading_2d/heading_2d/reference_frame DatasetBuilder {'attributes': {}, 'data': 'TBD'}, 'timestamps': root/processing/behavior/moseq_extract_group/heading_2d/heading_2d/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}}, 'datasets': {}, 'links': {}}, 'length': root/processing/behavior/moseq_extract_group/length GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'Length of mouse (mm)', 'namespace': 'core', 'neurodata_type': 'TimeSeries', 'object_id': '5805afbe-a54e-43d3-8323-23a948ff3e6c'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/length/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'mm'}, 'data': <HDF5 dataset "data": shape (53822,), type "<f4">}, 'timestamps': root/processing/behavior/moseq_extract_group/length/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}, 'loglikelihood_video': root/processing/behavior/moseq_extract_group/loglikelihood_video GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'Log-likelihood values from the tracking model (nframes x w x h)', 'namespace': 'core', 'neurodata_type': 'ImageMaskSeries', 'object_id': 'dcfdb691-369f-418a-9b6b-b365c548e296'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/loglikelihood_video/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'a.u.'}, 'data': <HDF5 dataset "data": shape (53822, 80, 80), type "<f4">}, 'format': root/processing/behavior/moseq_extract_group/loglikelihood_video/format DatasetBuilder {'attributes': {}, 'data': 'raw'}, 'timestamps': root/processing/behavior/moseq_extract_group/loglikelihood_video/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {'device': root/processing/behavior/moseq_extract_group/loglikelihood_video/device LinkBuilder {'builder': root/general/devices/kinect GroupBuilder {'attributes': {'description': 'Microsoft Kinect 2', 'manufacturer': 'Microsoft', 'namespace': 'core', 'neurodata_type': 'Device', 'object_id': '82e8e8e7-f26b-48c5-ba1a-8ba04826aee8'}, 'groups': {}, 'datasets': {}, 'links': {}}}, 'masked_imageseries': root/processing/behavior/moseq_extract_group/loglikelihood_video/masked_imageseries LinkBuilder {'builder': root/processing/behavior/moseq_extract_group/processed_depth_video GroupBuilder {'attributes': {'comments': 'no comments', 'description': '3D array of depth frames (nframes x w x h, in mm)', 'distant_depth': 693.0, 'namespace': 'ndx-depth-moseq', 'neurodata_type': 'DepthImageSeries', 'object_id': '767a2342-17ea-43d4-919b-b97713f83741'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/processed_depth_video/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'millimeters'}, 'data': <HDF5 dataset "data": shape (53822, 80, 80), type "|u1">}, 'format': root/processing/behavior/moseq_extract_group/processed_depth_video/format DatasetBuilder {'attributes': {}, 'data': 'raw'}, 'timestamps': root/processing/behavior/moseq_extract_group/processed_depth_video/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {'device': root/processing/behavior/moseq_extract_group/processed_depth_video/device LinkBuilder {'builder': root/general/devices/kinect GroupBuilder {'attributes': {'description': 'Microsoft Kinect 2', 'manufacturer': 'Microsoft', 'namespace': 'core', 'neurodata_type': 'Device', 'object_id': '82e8e8e7-f26b-48c5-ba1a-8ba04826aee8'}, 'groups': {}, 'datasets': {}, 'links': {}}}}}}}}, 'parameters': root/processing/behavior/moseq_extract_group/parameters GroupBuilder {'attributes': {'angle_hampel_sig': 1, 'angle_hampel_span': 7, 'bg_roi_depth_range_max': 750, 'bg_roi_depth_range_min': 650, 'bg_roi_dilate_x': 30, 'bg_roi_dilate_y': 30, 'bg_roi_fill_holes': True, 'bg_roi_gradient_filter': False, 'bg_roi_gradient_kernel': 7, 'bg_roi_gradient_threshold': 3000, 'bg_roi_index': 0, 'bg_roi_shape': 'ellipse', 'bg_roi_weight_area': 1.0, 'bg_roi_weight_dist': 1.0, 'bg_roi_weight_extent': 0.1, 'cable_filter_iters': 1, 'cable_filter_shape': 'rectangle', 'cable_filter_size_x': 3, 'cable_filter_size_y': 3, 'centroid_hampel_sig': 3, 'centroid_hampel_span': 5, 'chunk_overlap': 200, 'chunk_size': 2000, 'compress': False, 'compress_chunk_size': 3000, 'compress_threads': 3, 'config_file': '/n/groups/datta/Jeff/workspace/_extract_config/extract_smallcable.yaml', 'crop_size_height': 80, 'crop_size_width': 80, 'flip_classifier': '/home/jm447/moseq2/flip_classifier_k2_largemicewithfiber.pkl', 'flip_classifier_smoothing': 151, 'fps': 30, 'frame_dtype': 'uint8', 'frame_trim_beginning': 0, 'frame_trim_end': 0, 'max_height': 100, 'min_height': 10, 'model_smoothing_clips_x': -500, 'model_smoothing_clips_y': -100, 'namespace': 'ndx-depth-moseq', 'neurodata_type': 'MoSeqExtractParameterGroup', 'object_id': '816a0d78-a302-484f-83ef-db1a4fec8417', 'spatial_filter_size': 3, 'tail_filter_iters': 1, 'tail_filter_shape': 'ellipse', 'tail_filter_size_x': 9, 'tail_filter_size_y': 9, 'temporal_filter_size': 0, 'tracking_model_init': 'raw', 'tracking_model_ll_clip': -100, 'tracking_model_ll_threshold': -60, 'tracking_model_mask_threshold': -18, 'tracking_model_segment': True, 'use_plane_bground': False, 'use_tracking_model': True, 'write_movie': True}, 'groups': {}, 'datasets': {}, 'links': {}}, 'position': root/processing/behavior/moseq_extract_group/position GroupBuilder {'attributes': {'namespace': 'core', 'neurodata_type': 'Position', 'object_id': '11540e02-ec82-4553-9a6d-8306a33bfdbc'}, 'groups': {'position': root/processing/behavior/moseq_extract_group/position/position GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'Position (x, y, height) in an open field.', 'namespace': 'core', 'neurodata_type': 'SpatialSeries', 'object_id': 'd99b89e9-c699-4719-ae12-ac9891d30c5b'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/position/position/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'mm'}, 'data': <HDF5 dataset "data": shape (53822, 3), type "<f4">}, 'reference_frame': root/processing/behavior/moseq_extract_group/position/position/reference_frame DatasetBuilder {'attributes': {}, 'data': 'TBD'}, 'timestamps': root/processing/behavior/moseq_extract_group/position/position/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}}, 'datasets': {}, 'links': {}}, 'processed_depth_video': root/processing/behavior/moseq_extract_group/processed_depth_video GroupBuilder {'attributes': {'comments': 'no comments', 'description': '3D array of depth frames (nframes x w x h, in mm)', 'distant_depth': 693.0, 'namespace': 'ndx-depth-moseq', 'neurodata_type': 'DepthImageSeries', 'object_id': '767a2342-17ea-43d4-919b-b97713f83741'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/processed_depth_video/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'millimeters'}, 'data': <HDF5 dataset "data": shape (53822, 80, 80), type "|u1">}, 'format': root/processing/behavior/moseq_extract_group/processed_depth_video/format DatasetBuilder {'attributes': {}, 'data': 'raw'}, 'timestamps': root/processing/behavior/moseq_extract_group/processed_depth_video/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {'device': root/processing/behavior/moseq_extract_group/processed_depth_video/device LinkBuilder {'builder': root/general/devices/kinect GroupBuilder {'attributes': {'description': 'Microsoft Kinect 2', 'manufacturer': 'Microsoft', 'namespace': 'core', 'neurodata_type': 'Device', 'object_id': '82e8e8e7-f26b-48c5-ba1a-8ba04826aee8'}, 'groups': {}, 'datasets': {}, 'links': {}}}}}, 'speed_2d': root/processing/behavior/moseq_extract_group/speed_2d GroupBuilder {'attributes': {'comments': 'no comments', 'description': '2D speed (mm / frame), note that missing frames are not accounted for', 'namespace': 'core', 'neurodata_type': 'TimeSeries', 'object_id': 'e9ce8d73-70bb-490c-9c0d-cdaf14559fb4'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/speed_2d/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'mm/frame'}, 'data': <HDF5 dataset "data": shape (53822,), type "<f4">}, 'timestamps': root/processing/behavior/moseq_extract_group/speed_2d/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}, 'speed_3d': root/processing/behavior/moseq_extract_group/speed_3d GroupBuilder {'attributes': {'comments': 'no comments', 'description': '3D speed (mm / frame), note that missing frames are not accounted for', 'namespace': 'core', 'neurodata_type': 'TimeSeries', 'object_id': '50581913-662c-4b2f-bcf0-266debb71f84'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/speed_3d/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'mm/frame'}, 'data': <HDF5 dataset "data": shape (53822,), type "<f4">}, 'timestamps': root/processing/behavior/moseq_extract_group/speed_3d/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}, 'width': root/processing/behavior/moseq_extract_group/width GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'Width of mouse (mm)', 'namespace': 'core', 'neurodata_type': 'TimeSeries', 'object_id': '5d0b6ef6-6966-485a-b39c-c11432519820'}, 'groups': {}, 'datasets': {'data': root/processing/behavior/moseq_extract_group/width/data DatasetBuilder {'attributes': {'conversion': 1.0, 'offset': 0.0, 'resolution': -1.0, 'unit': 'mm'}, 'data': <HDF5 dataset "data": shape (53822,), type "<f4">}, 'timestamps': root/processing/behavior/moseq_extract_group/width/timestamps DatasetBuilder {'attributes': {'interval': 1, 'unit': 'seconds'}, 'data': <HDF5 dataset "timestamps": shape (53822,), type "<f8">}}, 'links': {}}}, 'datasets': {'background': root/processing/behavior/moseq_extract_group/background DatasetBuilder {'attributes': {'description': 'Computed background image.', 'namespace': 'core', 'neurodata_type': 'GrayscaleImage', 'object_id': 'b207e00f-927b-4fbe-81fa-1173e603a6f8'}, 'data': <HDF5 dataset "background": shape (424, 512), type "<f8">}, 'roi': root/processing/behavior/moseq_extract_group/roi DatasetBuilder {'attributes': {'description': 'Computed region of interest.', 'namespace': 'core', 'neurodata_type': 'GrayscaleImage', 'object_id': '717287ef-4b53-4c59-ac2d-18c692ba4041'}, 'data': <HDF5 dataset "roi": shape (424, 512), type "<f8">}}, 'links': {'depth_camera': root/processing/behavior/moseq_extract_group/depth_camera LinkBuilder {'builder': root/general/devices/kinect GroupBuilder {'attributes': {'description': 'Microsoft Kinect 2', 'manufacturer': 'Microsoft', 'namespace': 'core', 'neurodata_type': 'Device', 'object_id': '82e8e8e7-f26b-48c5-ba1a-8ba04826aee8'}, 'groups': {}, 'datasets': {}, 'links': {}}}}}, "Could not construct MoSeqExtractGroup object due to: Field 'depth_camera' on MoSeqExtractGroup must be named 'depth_camera'.")


